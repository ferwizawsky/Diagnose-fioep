import{r as c,o as x,a as u,c as p,d as t,k as b,j as m,v,F as h,g as V,t as _,b as l,w as r,u as i,T as H,i as A}from"./app.4c99d882.js";import{I as k,g as U,S as C,v as M}from"./menu.74fd1659.js";/* empty css            */const Z={class:"mt-[25px]"},D={class:"inputan"},S=t("span",null,"Username",-1),B={class:"inputan"},I=t("span",null,"Password",-1),T=t("div",null,[t("br"),t("button",{class:"bg-primary/20 text-primary px-10 py-2 rounded-full"}," Add User ")],-1),$={class:"w-full text-sm border border-gray-200 bg-white rounded-xl shadows p-4 pt-10 mt-6 max-h-[85vh] overflow-auto"},q={class:"px-4"},z={class:"table-auto w-[600px] md:w-full"},N=t("thead",null,[t("tr",{class:"text-left"},[t("th",null,"No."),t("th",null,"Username"),t("th",null,"Aksi")])],-1),F={class:"pr-6 py-2"},O={class:"pr-6 py-2"},j={class:"pr-6 py-2"},E=t("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",class:"w-4 h-4"},[t("path",{fill:"currentColor",d:"M7,0H4A4,4,0,0,0,0,4V7a4,4,0,0,0,4,4H7a4,4,0,0,0,4-4V4A4,4,0,0,0,7,0ZM9,7A2,2,0,0,1,7,9H4A2,2,0,0,1,2,7V4A2,2,0,0,1,4,2H7A2,2,0,0,1,9,4Z"}),t("path",{fill:"currentColor",d:"M20,0H17a4,4,0,0,0-4,4V7a4,4,0,0,0,4,4h3a4,4,0,0,0,4-4V4A4,4,0,0,0,20,0Zm2,7a2,2,0,0,1-2,2H17a2,2,0,0,1-2-2V4a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2Z"}),t("path",{fill:"currentColor",d:"M7,13H4a4,4,0,0,0-4,4v3a4,4,0,0,0,4,4H7a4,4,0,0,0,4-4V17A4,4,0,0,0,7,13Zm2,7a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V17a2,2,0,0,1,2-2H7a2,2,0,0,1,2,2Z"}),t("path",{fill:"currentColor",d:"M20,13H17a4,4,0,0,0-4,4v3a4,4,0,0,0,4,4h3a4,4,0,0,0,4-4V17A4,4,0,0,0,20,13Zm2,7a2,2,0,0,1-2,2H17a2,2,0,0,1-2-2V17a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2Z"})],-1),L={class:"relative z-30"},P={class:"px-1 py-1"},G=["onClick"],J=t("div",{class:"text-center pt-4"},null,-1),tt={name:"user",setup(K){c(["2023-01-01",new Date().toISOString().split("T")[0]]);const n=c([]),o=c({username:"",name:"",password:"",role:"student"});async function d(){n.value=[];try{const{data:e}=await axios.get("/user?limit=1000");console.log(e),n.value=e.data}catch(e){e.response.request.status==401&&(localStorage.removeItem("token"),location.reload())}}async function f(){n.value=[];try{const{data:e}=await axios.post("/user",o.value);console.log(e),o.value={username:"",name:"",password:"",role:"student"},d()}catch(e){console.log(e)}}async function g(e){if(confirm(`Do you want to Delete ${e.name} !`))try{const{data:s}=await axios.delete(`/user/${e.id}`);console.log(s),d()}catch(s){console.log(s)}}return x(()=>{d()}),(e,s)=>(u(),p(h,null,[t("div",Z,[t("form",{onSubmit:s[2]||(s[2]=b(a=>f(),["prevent"])),class:"grid md:grid-cols-3 gap-x-4"},[t("div",D,[S,m(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.value.username=a),required:""},null,512),[[v,o.value.username]])]),t("div",B,[I,m(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>o.value.password=a),required:""},null,512),[[v,o.value.password]])]),T],32)]),t("div",$,[t("div",q,[t("table",z,[N,t("tbody",null,[(u(!0),p(h,null,V(n.value,(a,y,Q)=>(u(),p("tr",{class:"border-t",key:a},[t("td",F,_(y+1)+".",1),t("td",O,_(a.username),1),t("td",j,[l(i(M),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t("div",null,[l(i(k),{class:"p-2 rounded-lg text-primary bg-primary/10"},{default:r(()=>[E]),_:1})]),t("div",L,[l(H,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[l(i(U),{class:"absolute right-0 mt-2 w-40 z-30 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:r(()=>[t("div",P,[l(i(C),null,{default:r(({active:w})=>[t("button",{onClick:R=>g(a),class:A([w?"bg-primary text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])}," Delete ",10,G)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),_:2},1024)])]))),128))])])]),J])],64))}};export{tt as default};
